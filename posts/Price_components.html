<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="David Leitch">
<meta name="dcterms.date" content="2025-07-27">

<title>Price analysis – ITK Research</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../ITK_logo.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-d166b450ba5a8e9f7a0ab969bf6592c1.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-485e50d28d76f17c9a54ab231639fb97.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-f9f99e9f92a7e94224d7c17645ae6320.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script defer="" data-domain="itkservices3.com" src="https://plausible.io/js/script.js"></script>


<link rel="stylesheet" href="../styles.css">
<meta property="og:title" content="Price analysis – ITK Research">
<meta property="og:description" content="Electricity markets analysis">
<meta property="og:image" content="https://itkservices3.com/media/image-20250727165917326.png">
<meta property="og:site_name" content="ITK Research">
<meta property="og:image:height" content="789">
<meta property="og:image:width" content="989">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../ITK_logo.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">ITK Research</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-dashboards-(load-slow" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Dashboards (load slow)</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-dashboards-(load-slow">    
        <li>
    <a class="dropdown-item" href="../IEA.html">
 <span class="dropdown-text">IEA-electricity</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../nemgen.html">
 <span class="dropdown-text">NEM-ITK</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../forecast.html">
 <span class="dropdown-text">AEMO demand fcst</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../posts.html"> 
<span class="menu-text">Articles</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-more" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">more</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-more">    
        <li>
    <a class="dropdown-item" href="../green_iron/index.html">
 <span class="dropdown-text">Green Iron</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../presentations.html">
 <span class="dropdown-text">Presentations</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../background.html">
 <span class="dropdown-text">Background notes</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../energyinsiders.html">
 <span class="dropdown-text">Energy Insiders</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="../posts.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../mailchimp.html"> 
<span class="menu-text">Signup</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Price analysis</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">analysis</div>
                <div class="quarto-category">prices</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>David Leitch </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">July 27, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#about-40-90-hours-a-year-the-spot-price-is-over-1000mwh.-this-adds-about-15-30-to-the-annual-average-cost" id="toc-about-40-90-hours-a-year-the-spot-price-is-over-1000mwh.-this-adds-about-15-30-to-the-annual-average-cost" class="nav-link active" data-scroll-target="#about-40-90-hours-a-year-the-spot-price-is-over-1000mwh.-this-adds-about-15-30-to-the-annual-average-cost">About 40-90 hours a year the spot price is over $1000/MWh. This adds about 15%-30% to the annual average cost</a></li>
  <li><a href="#what-you-see-isnt-what-you-get" id="toc-what-you-see-isnt-what-you-get" class="nav-link" data-scroll-target="#what-you-see-isnt-what-you-get">What you see isn’t what you get</a>
  <ul class="collapse">
  <li><a href="#competition-as-well-as-capacity-matters" id="toc-competition-as-well-as-capacity-matters" class="nav-link" data-scroll-target="#competition-as-well-as-capacity-matters">Competition as well as capacity matters</a>
  <ul class="collapse">
  <li><a href="#a-summary-of-prices-over-1000mwh-between-2020-and-today" id="toc-a-summary-of-prices-over-1000mwh-between-2020-and-today" class="nav-link" data-scroll-target="#a-summary-of-prices-over-1000mwh-between-2020-and-today">A summary of prices over $1000/MWh between 2020 and today</a></li>
  </ul></li>
  <li><a href="#summary---an-insurance-role-could-make-a-difference" id="toc-summary---an-insurance-role-could-make-a-difference" class="nav-link" data-scroll-target="#summary---an-insurance-role-could-make-a-difference">Summary - an insurance role could make a difference</a></li>
  </ul></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="Price_components.docx"><i class="bi bi-file-word"></i>MS Word</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="about-40-90-hours-a-year-the-spot-price-is-over-1000mwh.-this-adds-about-15-30-to-the-annual-average-cost" class="level2">
<h2 class="anchored" data-anchor-id="about-40-90-hours-a-year-the-spot-price-is-over-1000mwh.-this-adds-about-15-30-to-the-annual-average-cost">About 40-90 hours a year the spot price is over $1000/MWh. This adds about 15%-30% to the annual average cost</h2>
<p>Generators able to supply when others can’t make lots of money, maybe $500 m of revenue in South Australia last year. That suggests there is a good market entry opportunity for reserve batteries. Let’s assume a battery installed has a cost of $0.65 m/MWh. To get a 10% revenue to cost ratio you need $65,000 revenue per year. If you ran that battery last year for the 70 or so hours when the price was over $1000 you would have received $315,000 or basically more than 50% of the battery’s cost recovered in the first year. That assumes you were able to operate your battery in every one of those hours, but due to duration you would have missed some. Still in the past 12 months a 5 hour battery would have covered you for all those peak hours and across the NEM over the past 5 years a 2 hour battery would have covered the vast majority of high price events.</p>
<p>This analysis tends to support a view that Governments eg State Owned Gentailers, not a business class I approve of, could get far more bang for their buck by building reserve battery capacity than stuffing round with your Borumbas and your Snowys and whatever other pumped hydro thing is out there. You could do it with gas as well, but far better to have some quick to install, installable on the distribution networks, distributed reserve capacity. Such batteries could also provide sub station level black out support and so on.</p>
<p>It’s fair to say gentailers including Snowy have a lot of market power in this space. But equally I think they have a lot to lose. If coal generators are getting a significant quantity of revenue from 1% of the hours in the year, and that can be competed away just like that, then I would see it as a material risk.</p>
<p>Nor is it wrong in my opinion for gentailers to take advantage of those times. The high prices are essential, absolutely essential to provide the market signal and the rewards for supply that is held in reserve for exactly those times. However what we don’t want is to have all that reserve supply held by an oligopoly. We want enough supply so that the scarcity/rationing price provides a return to reserve supply but no more.</p>
<p>Right now that scarcity price is too high, sending the signal that more supply in that space is needed.</p>
</section>
<section id="what-you-see-isnt-what-you-get" class="level1">
<h1>What you see isn’t what you get</h1>
<p>Recently I’ve been working on the ITK AEMO dashboard with lots of wonderful charts.</p>
<p>One of the visualisations I was working on was prices. So I showed the dashboard to my brother and my nephew looking for a pat on the back and got the usual “very good Uncle Dave what’s the footie score” but they did ask about the variability of prices which I wasn’t showing. I promised them I’d do something and in the course of doing it was reminded about optical illusions. What you see isn’t what you get.</p>
<p>Here’s the entire prices tab of the dashboard. Don’t bother looking at this unless you have a desktop monitor, its not designed for phones (responsive)</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../media/image-20250727114439832.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="ITK dashboard. Source:ITK"><img src="../media/image-20250727114439832.png" class="img-fluid figure-img" alt="ITK dashboard. Source:ITK"></a></p>
<figcaption>ITK dashboard. Source:ITK</figcaption>
</figure>
</div>
<p>And what’s of interest is the figure and table top right. Let’s start with the figure, Noting I’ve selected two States, South Australia and QLD, because one has lots of renewables and the other less so. And the time period is the last 365 days.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../media/image-20250727114717630.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="Price comments last 12 months. Data:AEMO, visualisation ITK"><img src="../media/image-20250727114717630.png" class="img-fluid figure-img" alt="Price comments last 12 months. Data:AEMO, visualisation ITK"></a></p>
<figcaption>Price comments last 12 months. Data:AEMO, visualisation ITK</figcaption>
</figure>
</div>
<p>What are the messages here?</p>
<ul>
<li><p>QLD’s price is a fraction less than that in South Australia.</p></li>
<li><p>30% of the time prices were negative in South Australia, much less so in QLD.</p></li>
<li><p>$37/MWh or about 35% of the average South Australian price in the past year was due to periods when prices were over $1000/MWh and a lesser but still meaningful 18% of the QLD average price was due to prices over $1000/MWh</p></li>
<li><p>But wait why can’t I see the percentage of time prices were over $1000 in the right hand graphs. I must have miscoded (again). So let’s now look at the baby table because you can’t show it on the figure that easily.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../media/image-20250727121555532.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3" title="Pric component detail. Data:AMEMO, visualisation:ITK"><img src="../media/image-20250727121555532.png" class="img-fluid figure-img" alt="Pric component detail. Data:AMEMO, visualisation:ITK"></a></p>
<figcaption>Pric component detail. Data:AMEMO, visualisation:ITK</figcaption>
</figure>
</div>
<p>Now we are getting somewhere. In QLD prices were over $1000 for just 0.5% of the half hours, that is to say about 45 hours in the year but the average price during those 45 hours was over $4000/MWh pushing the average for the year up by $20.</p>
<p>In South Australia the 0.8% or to say 65 hours in the year the “rationing” price was $4,566 lifting the average price over the year factored into customer bills by $37/MWh.</p>
<p>So this is why I say it’s an optical illusion, 30% of the time in South Australia the price will be negative. That mostly happens in the day when I tend to look at the screen. But all that negative price stuff is much less important than the 60 hours, when electricity is really scarce and the price reflects that. I think in financial markets we used to talk about “rationing prices”.</p>
<h2 id="implications" class="anchored" data-anchor-id="what-you-see-isnt-what-you-get">Implications</h2>
<p>There are implications for both consumers and producers. The most important point to note is that prices are a signal. And what this signal clearly shows is that there is near $0.5 bn of annual revenue available to producers who can supply when no one else can. So for the time being this is typically gas and diesel. However to my way of thinking that revenue pool is big enough to reward “reserve” batteries. That is supply that is held in reserve for shortages. In QLD the revenue pool in the most recent 12 months was a lesser but still significant $0.25 bn.</p>
<p>Looking over the 5.5 years of data in my set, we can see that high price events typically represent about 15-20% of the average price over that time period.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../media/image-20250727122708391.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4" title="Weighted prices 2020 to 2025.Data:AEMO, Visualisation ITK"><img src="../media/image-20250727122708391.png" class="img-fluid figure-img" alt="Weighted prices 2020 to 2025.Data:AEMO, Visualisation ITK"></a></p>
<figcaption>Weighted prices 2020 to 2025.Data:AEMO, Visualisation ITK</figcaption>
</figure>
</div></li>
</ul>
<p>It’s less in Victoria because, as a general statement, at least until Yallourn is closed Victoria is over supplied.</p>
<p>For consumers, particularly as household batteries come along there is an indication that using your household or EV or both battery during those peak periods could be rewarding. $4000/MWh is $4/KWh which for a Tesla power wall with say 5KW of output power you could get $20 for 40 hours or about $800 a year, probably a bit less. The $20 is 5kw x $4/KWh. Equally there are other opportunities for the $100-$300 price band.</p>
<section id="competition-as-well-as-capacity-matters" class="level2">
<h2 class="anchored" data-anchor-id="competition-as-well-as-capacity-matters">Competition as well as capacity matters</h2>
<p>At the moment the reserve power market is controlled by the large Gentailers including Snowy and to some extent by AEMOs RERT and IRR process. Let’s leave AEMO’s role as out of scope for this note.</p>
<p>The investment in reserve capacity needs to come from independent suppliers if its to result in more competition in those peak events. Fortunately with batteries it is possible, in my imagination, to see reserve batteries being built by independents and operating purely as reserve merchants. No contract necessary. Batteries are modular and can be installed on distribution networks.</p>
<p>For any business exposed to the spot price, there is a clear demand response opportunity. However demand response has to be independent of gentailers. Let’s say you were an aluminium smelter and your gentailer contract allowed the gentailer to switch you off for an hour say four times a year. Since the gentailer probably owns capacity that benefits from “rationing prices” they aren’t going to ask you to switch off most likely, unless the lights really are going out.</p>
<section id="a-summary-of-prices-over-1000mwh-between-2020-and-today" class="level3">
<h3 class="anchored" data-anchor-id="a-summary-of-prices-over-1000mwh-between-2020-and-today">A summary of prices over $1000/MWh between 2020 and today</h3>
<p>I did use Claude to provide this summary. A run is a length of time when prices stay over $1000</p>
<p>Queensland (QLD1) experienced the most high-price events, with 489 runs, accounting for 0.39% of the total time. South Australia (SA1) followed with 388 runs (0.30%), while New South Wales (NSW1) had 338 runs (0.23%). Tasmania (TAS1) experienced 115 runs, equivalent to 0.17% of the time. Victoria (VIC1) had the fewest events, with 84 runs or just 0.05% of the time.</p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>Region</th>
<th>Number of Runs</th>
<th>% of Time Over $1000</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>QLD1</td>
<td>489</td>
<td>0.39%</td>
</tr>
<tr class="even">
<td>SA1</td>
<td>388</td>
<td>0.30%</td>
</tr>
<tr class="odd">
<td>NSW1</td>
<td>338</td>
<td>0.23%</td>
</tr>
<tr class="even">
<td>TAS1</td>
<td>115</td>
<td>0.17%</td>
</tr>
<tr class="odd">
<td>VIC1</td>
<td>84</td>
<td>0.05%</td>
</tr>
</tbody>
</table>
<p><strong>The majority of high-price events were short-lived, with between 52% and 63% lasting less than 30 minutes. On average, these events lasted between 1.1 and 1.5 hours across all regions</strong>. Some extreme events did occur: the longest recorded was in QLD, where prices remained above $1000 for 45.5 hours in July 2022. In NSW1, the longest event lasted 21.5 hours in May 2024, reaching prices as high as $16,600.</p>
<p>High-price events most commonly began at around 17:00 (5 PM), which coincides with the evening peak in electricity demand. The year 2022 stands out as the most active period for high prices across all regions. In contrast, the data for 2025 so far suggests a lower frequency of such events.</p>
<p>QLD was the most volatile region, not only experiencing the highest number of high-price events but also the longest sustained runs. SA had a high frequency of events as well, though they tended to be shorter in duration. Nevertheless, SA recorded the highest average peak prices. NSW1 had a moderate number of events but included some of the longest durations. VIC was the least affected region overall, although when high-price events did occur, they tended to last around 1.5 hours.</p>
<p>A couple of plots, note that because the duration runs from 0.5 half hours to 40 a log scale was needed.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../media/image-20250727165208969.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5" title="High price runs. Data:AEMO, Visualisation ITK"><img src="../media/image-20250727165208969.png" class="img-fluid figure-img" alt="High price runs. Data:AEMO, Visualisation ITK"></a></p>
<figcaption>High price runs. Data:AEMO, Visualisation ITK</figcaption>
</figure>
</div>
<p>You should get a sense from this plot that in fact the number of high price events has declined, particularly longer duration from the 2022 period when we had shortages of gas and coal. Equally just looking at the spread of colors shows that the high price events are spread around the regions and certainly not, so far, concentrated in areas of high renewable energy.</p>
<p>Next I have finally found a use for a violin plot, after years of seeing them in plotting packages. This is an exciting event in the life of a keyboard warrior.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../media/image-20250727165917326.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6" title="High price distributions. Data:AEMO, visualisation:ITK"><img src="../media/image-20250727165917326.png" class="img-fluid figure-img" alt="High price distributions. Data:AEMO, visualisation:ITK"></a></p>
<figcaption>High price distributions. Data:AEMO, visualisation:ITK</figcaption>
</figure>
</div>
</section>
</section>
<section id="summary---an-insurance-role-could-make-a-difference" class="level2">
<h2 class="anchored" data-anchor-id="summary---an-insurance-role-could-make-a-difference">Summary - an insurance role could make a difference</h2>
<p>I only did this work in response to a question from the extended family. Obviously there is much more analysis to be done. My first question would be how many MW of power are needed given that the history says duration is not the issue, but a lack of power. In general though the results suggest that if say the NSW Govt owned Retailer was to invest in a battery reserved for high price events they could probably make a difference to average prices paid by consumers.</p>
<p>An aluminium centre or data centre able to respond to high price events could arguably earn a return. And so on.</p>


</section>
</section>

</main> <!-- /main -->
<script data-isso="//comentario3.itkservices2.com/" data-isso-css="true" data-isso-css-url="null" data-isso-lang="en" data-isso-max-comments-top="10" data-isso-max-comments-nested="5" data-isso-reveal-on-click="5" data-isso-avatar="false" data-isso-avatar-bg="#f0f0f0" data-isso-avatar-fg="#9abf88 #5698c4 #e279a3 #9163b6 ..." data-isso-vote="true" data-isso-vote-levels="" data-isso-page-author-hashes="f124cf6b2f01,7831fe17a8cd" data-isso-reply-notifications-default-enabled="false" src="https://comentario3.itkservices2.com/js/embed.min.js"></script>
        <section id="isso-thread" data-title="Test tag"></section>
   
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = true;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/itkservices3\.com");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Copyright 2024 ITK admin@itkservices.com.au</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>