<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.39">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="David Leitch">
<meta name="dcterms.date" content="2025-09-22">

<title>Global renewables share – ITK Research</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../ITK_logo.png" rel="icon" type="image/png">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-e26003cea8cd680ca0c55a263523d882.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark-d166b450ba5a8e9f7a0ab969bf6592c1.css" rel="stylesheet" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-485e50d28d76f17c9a54ab231639fb97.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark-f9f99e9f92a7e94224d7c17645ae6320.min.css" rel="stylesheet" append-hash="true" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script src="../site_libs/quarto-contrib/glightbox/glightbox.min.js"></script>
<link href="../site_libs/quarto-contrib/glightbox/glightbox.min.css" rel="stylesheet">
<link href="../site_libs/quarto-contrib/glightbox/lightbox.css" rel="stylesheet">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script defer="" data-domain="itkservices3.com" src="https://plausible.io/js/script.js"></script>


<link rel="stylesheet" href="../styles.css">
<meta property="og:title" content="Global renewables share – ITK Research">
<meta property="og:description" content="Electricity markets analysis">
<meta property="og:image" content="https://itkservices3.com/media/image-20250924201827652.png">
<meta property="og:site_name" content="ITK Research">
<meta property="og:image:height" content="1182">
<meta property="og:image:width" content="2112">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="../index.html" class="navbar-brand navbar-brand-logo">
    <img src="../ITK_logo.png" alt="" class="navbar-logo">
    </a>
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">ITK Research</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-dashboards-(load-slow" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">Dashboards (load slow)</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-dashboards-(load-slow">    
        <li>
    <a class="dropdown-item" href="../IEA.html">
 <span class="dropdown-text">IEA-electricity</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../nemgen.html">
 <span class="dropdown-text">NEM-ITK</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../forecast.html">
 <span class="dropdown-text">AEMO demand fcst</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item">
    <a class="nav-link" href="../posts.html"> 
<span class="menu-text">Articles</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-more" role="link" data-bs-toggle="dropdown" aria-expanded="false">
 <span class="menu-text">more</span>
    </a>
    <ul class="dropdown-menu" aria-labelledby="nav-menu-more">    
        <li>
    <a class="dropdown-item" href="../green_iron/index.html">
 <span class="dropdown-text">Green Iron</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../presentations.html">
 <span class="dropdown-text">Presentations</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../background.html">
 <span class="dropdown-text">Background notes</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../energyinsiders.html">
 <span class="dropdown-text">Energy Insiders</span></a>
  </li>  
    </ul>
  </li>
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="../posts.xml"> <i class="bi bi-rss" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../mailchimp.html"> 
<span class="menu-text">Signup</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Global renewables share</h1>
                                <div class="quarto-categories">
                <div class="quarto-category">Economics &amp; Investment</div>
                <div class="quarto-category">Market Analysis</div>
              </div>
                  </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>David Leitch </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">September 22, 2025</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#australia-is-not-alone-in-decarbonising-and-our-coal-industry-is-falling-behind" id="toc-australia-is-not-alone-in-decarbonising-and-our-coal-industry-is-falling-behind" class="nav-link active" data-scroll-target="#australia-is-not-alone-in-decarbonising-and-our-coal-industry-is-falling-behind">Australia is not alone in decarbonising and our coal industry is falling behind</a></li>
  <li><a href="#global-decarbonisation-of-electricity" id="toc-global-decarbonisation-of-electricity" class="nav-link" data-scroll-target="#global-decarbonisation-of-electricity">Global decarbonisation of electricity</a></li>
  <li><a href="#not-yet-falling-but-thermal-coal-exports-are-ex-growth" id="toc-not-yet-falling-but-thermal-coal-exports-are-ex-growth" class="nav-link" data-scroll-target="#not-yet-falling-but-thermal-coal-exports-are-ex-growth">Not yet falling but thermal coal exports are ex growth</a></li>
  <li><a href="#as-soon-as-chinas-electricity-consumption-growth-stops-social-pressure-will-increase-big-time" id="toc-as-soon-as-chinas-electricity-consumption-growth-stops-social-pressure-will-increase-big-time" class="nav-link" data-scroll-target="#as-soon-as-chinas-electricity-consumption-growth-stops-social-pressure-will-increase-big-time">As soon as China’s electricity consumption growth stops, social pressure will increase big time</a></li>
  </ul>
<div class="quarto-alternate-formats"><h2>Other Formats</h2><ul><li><a href="global_share.docx"><i class="bi bi-file-word"></i>MS Word</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<section id="australia-is-not-alone-in-decarbonising-and-our-coal-industry-is-falling-behind" class="level2">
<h2 class="anchored" data-anchor-id="australia-is-not-alone-in-decarbonising-and-our-coal-industry-is-falling-behind">Australia is not alone in decarbonising and our coal industry is falling behind</h2>
<p>It seems to me that Australians are quite parochial when it comes to covering decarbonisation. It’s all about what political leaders say. There seems little interest in where Australia sits in the global context.</p>
<p>So it’s quite common to hear that Australia is out of step with the rest of the world with our 2035 commitment, that we are recklessly embracing renewable energy and we are doing what no-one else has and therefore it’s doomed to fail and make our electricity industry uncompetitive and our heavy industry uncompetitive. Soon we will have to rewild the country and build new coal and nuclear stations so that we can once again have globally cheap electricity.</p>
<p>In this note I started by taking IEA statistics that shows that we are in the top 1/3 of countries in our share of VRE (wind and solar) but that most countries are moving in the same direction at a greater or lesser speed. In terms of renewable share we would be much lower on the list if I had included hydro and nuclear. Then the South American and European countries would move further up the list. But I focus on wind and solar because that is what is growing everywhere all over the world and therefore we are all going to see what that means for electricity prices and firming and frequency control.</p>
<p>In particular as a long time if a no account and distant China watcher it’s interesting to note that China now gets 22% of its electricity from wind and solar, only a few years behind where Australia was, and as usual moving much faster.</p>
<p>In this note I don’t then go on to look at EVs. If I did Australia would likely still be at best in the middle of the pack but probably in the bottom 50% certainly way behind China and Europe. In my opinion because price elasticity of demand for oil is high, the lower growth in demand is already showing up in the oil price but how that plays out will be clearer in a few more years. But in any case Australia is a fairly distant follower not a leader.</p>
<p>So the world, in my opinion, is decarbonising not fast enough from a carbon perspective, but fast enough to impact economics, that is demand for industrial minerals like copper, but also impacting oil and coal demand at the margin.</p>
<p>Since Australia is a major thermal energy exporter, on my estimates the second or third largest, and since oil imports impact our balance of trade and are a security risk it’s therefore interesting and important to look at coal exports and their prospects. And this is where the surprise, to me, in this note comes from.</p>
<p>Specifically Australia’s coal exports are flat. Thermal coal exports have been flat for about 8 years. But I don’t really think the major direct cause is less demand for coal. What the numbers seem to show is that Australian coal is uncompetitive with Indonesian and Chinese coal. So China has expanded its domestic production about 1.2 bt over the past 10 years, undoubtedly by far the biggest contributor to higher global carbon emissions. Indonesia’s coal exports, particularly low quality but super cheap, have also grown by several hundred million tonnes. Indonesia has taken market share from Australian thermal coal. As to why Australian coal has become less competitive is for others to decide. Certainly, and I am in the fan club, there is an anti coal movement in Australia that makes new mines expensive to develop. We need such movements in Indonesia and China. So its economics that are killing Australian coal exports just as its domestic gas prices that have killed domestic gas consumption. Global decarbonisation is playing a role but it’s a dampner ,not yet from Australia’s perspective, the lead. But if Australian coal is going to struggle all the more reason to find the next gig. All the more reason to decarbonise and embrace the future.</p>
<p>The other tentative finding from this note is that China’s coal mining, coal generation and to an extent steel making industries are all interlinked. At the moment China can tolerate the growing share of wind and solar, now 22% of production, because overall electricity demand has been growing which means that coal generation is broadly flat. But should electricity consumption growth stop then there will be the usual economic fight between wind, solar and coal generators. Since there are millions and millions employed in the coal mining and coal generation industries wind and solar owners will struggle to win that fight.</p>
</section>
<section id="global-decarbonisation-of-electricity" class="level2">
<h2 class="anchored" data-anchor-id="global-decarbonisation-of-electricity">Global decarbonisation of electricity</h2>
<p>One of the risks to Australia decarbonisation target is that we might be doing it on our own. I’m fond of military analogies, so my analogy here is that just because we are one soldier among many what we do counts as much as what any other soldier does, but equally there is no point being the soldier that charges the enemy line all on their own.</p>
<p>When you look at the data we are not doing it on our own. Whatever you might think of IEA forecasts they have some great statistics. The following plot shows the VRE (combined wind and solar) share of total electricity consumption for a particular country or region for the 12 months ended June 2025. I filtered the database to get the top half of the electricity consumers, which meant leaving out some small countries with big renewable shares. And I’m only looking at wind and solar here; if I included hydro and, yes, nuclear, Australia would be further down the list.</p>
<p>The global total, that is all the countries in the IEA database, which does exclude Russia, is about 21% VRE.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../media/image-20250923182211121.png" class="lightbox" data-gallery="quarto-lightbox-gallery-1" title="VRE share by country. Source:IEA"><img src="../media/image-20250923182211121.png" class="img-fluid figure-img" alt="VRE share by country. Source:IEA"></a></p>
<figcaption>VRE share by country. Source:IEA</figcaption>
</figure>
</div>
<p>Among the major economies, China is at 22% wind and solar. The following plot shows how China has grown its VRE share and there is now a hint but only a hint that coal generation is starting to fall off.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../media/image-20250923182440015.png" class="lightbox" data-gallery="quarto-lightbox-gallery-2" title="China generation by fuel. Source:IEA"><img src="../media/image-20250923182440015.png" class="img-fluid figure-img" alt="China generation by fuel. Source:IEA"></a></p>
<figcaption>China generation by fuel. Source:IEA</figcaption>
</figure>
</div>
<p>And actually I’m doubtful that the China data includes behind-the-meter. Even India and Japan, basically global laggards have pushed their VRE share up to 13%.</p>
<p>And then if we look at the pace of change Australia is close to the top but I suspect China will be higher this time next year.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../media/image-20250923184010584.png" class="lightbox" data-gallery="quarto-lightbox-gallery-3" title="Rate of change in VRE share. Source:IEA"><img src="../media/image-20250923184010584.png" class="img-fluid figure-img" alt="Rate of change in VRE share. Source:IEA"></a></p>
<figcaption>Rate of change in VRE share. Source:IEA</figcaption>
</figure>
</div>
<p>If you look at the global total (total all countries) it’s increased 14 percentage points in nine years, from 7% to 21%. Of course that isn’t fast enough and the share is still far too low, but the gears are turning and the mill will grind.</p>
<p>So for me the trends are clear and it IS entirely appropriate for the Australian Government and Australian business to get ahead of the curve and start to position ourselves for the new world. Consider next our thermal coal exports.</p>
</section>
<section id="not-yet-falling-but-thermal-coal-exports-are-ex-growth" class="level2">
<h2 class="anchored" data-anchor-id="not-yet-falling-but-thermal-coal-exports-are-ex-growth">Not yet falling but thermal coal exports are ex growth</h2>
<p>Australia’s thermal coal exports have been essentially flat for the past 8 years. The chart below goes only to March 2025 and more recent data would show China imports from all sources falling.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../media/image-20250923112117411.png" class="lightbox" data-gallery="quarto-lightbox-gallery-4" title="Australia thermal coal exports. Source:Resources &amp; Energy quarterly"><img src="../media/image-20250923112117411.png" class="img-fluid figure-img" alt="Australia thermal coal exports. Source:Resources &amp; Energy quarterly"></a></p>
<figcaption>Australia thermal coal exports. Source:Resources &amp; Energy quarterly</figcaption>
</figure>
</div>
<p>You can see the drop in exports to China when there were political issues, but you can also see, or at least I can, that Japan and other countries simply bought the coal and then most likely on sold it either directly or through other intermediaries to China so that the ban was largely ineffective from a volume point of view.</p>
<p>But the real point is the lack of growth. Part of this may just be cost and price competition. Indonesia has gone from strength to strength in thermal coal and probably South Korea buys more from them and less from us these days. This can be seen in the following plots noting that exports have been calculated as production - consumption and possibly overstate Indonesian exports by as much as 50 mt in 2024. Still I think the general trend is clear: for one reason and another Indonesia’s generally lower quality coal has taken market share from Australia and Indonesia continues to grow coal production and exports whereas we are basically flat in Australia. It’s also interesting to note the sharpish growth in domestic Indonesian consumption.</p>
<p>One might argue that Indonesia deserves more attention from the climate universe than it currently receives.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../media/image-20250924092005474.png" class="lightbox" data-gallery="quarto-lightbox-gallery-5" title="Australia and Indonesia Coal production. Source:Energy Institute"><img src="../media/image-20250924092005474.png" class="img-fluid figure-img" alt="Australia and Indonesia Coal production. Source:Energy Institute"></a></p>
<figcaption>Australia and Indonesia Coal production. Source:Energy Institute</figcaption>
</figure>
</div>
<p>Indonesia’s production growth is dwarfed by China where production has grown from 3.5 bn tonnes to about 4.7 bn tonnes in nine years.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../media/image-20250924133635365.png" class="lightbox" data-gallery="quarto-lightbox-gallery-6" title="China coal production. Source:China stats bureau"><img src="../media/image-20250924133635365.png" class="img-fluid figure-img" alt="China coal production. Source:China stats bureau"></a></p>
<figcaption>China coal production. Source:China stats bureau</figcaption>
</figure>
</div>
<p>If you are an optimist (are there any left?), you might say production has peaked, but we’ve been here before. The thought was coal production had peaked in 2016 but it’s now more than 30% higher than that level. It’s also likely that there are some excellent operators in China’s coal industry. I looked at management commentary for one new China coal mine which was at a capital cost of A$0.9 bn for 2.5 MTPA which works out to less than A$20/t of depreciation.</p>
<p>It’s likely that China has a huge number of coal mining companies, some big and efficient, most probably not so much. I took these numbers from China Coal Energy Company which produces 137 mt of coal, equal to about half of total NSW production and that’s just one segment of its business. Anyhow the point of the table is it looks quite profitable, so coal prices would have to fall quite a bit for the company to cut back production.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><a href="../media/image-20250924143559738.png" class="lightbox" data-gallery="quarto-lightbox-gallery-7" title="China Coal Energy Company, Key financials. Source:Company"><img src="../media/image-20250924143559738.png" class="img-fluid figure-img" alt="China Coal Energy Company, Key financials. Source:Company"></a></p>
<figcaption>China Coal Energy Company, Key financials. Source:Company</figcaption>
</figure>
</div>
<p>Equally there are 2.5 million people employed in the coal mining industry, or so the studies I read indicate, and probably a lot more if the entire value chain was included and through to China’s coal powered electricity.</p>
<p>China’s coal quality (GJ/tonne) can be quite low, although not as bad as Indonesia but consensus estimates are probably around 20 GJ/t. That implies that about 2.5 bt of coal is used for power generation but when you do the sums and even allowing for carbon bombs like coal to gas plants of which China has a few, you will still find it difficult to see where the other 2 bt goes. It remains the case that most of the metallurgical coal required for China’s enormous steel industry comes from imports and much of that from Australia.</p>
</section>
<section id="as-soon-as-chinas-electricity-consumption-growth-stops-social-pressure-will-increase-big-time" class="level2">
<h2 class="anchored" data-anchor-id="as-soon-as-chinas-electricity-consumption-growth-stops-social-pressure-will-increase-big-time">As soon as China’s electricity consumption growth stops, social pressure will increase big time</h2>
<p>The point here is really that China’s enormous steel, power generation and coal mining industry remains the absolute mother lode of global carbon emissions, with cement as another ingredient in the lethal cocktail and that’s despite India’s best efforts to crash the party.</p>
<p>In saying this I am not disrespecting China’s attempts to decarbonise, I already noted along with everyone else how fast it’s moving on electricity decarbonisation and its world leading position among big economies on EVs. But we haven’t even started the real fight in China in the way we have in Australia.</p>
<p>As soon as electricity consumption in China stops growing the pressure on coal generation will be enormous and that pressure will spread down into coal mining.</p>
<p>Since coal miners and coal generators are bound to have lots of political power and there are many jobs at stake, there will be a big push back against renewables.</p>


</section>

</main> <!-- /main -->
<script data-isso="//comentario3.itkservices2.com/" data-isso-css="true" data-isso-css-url="null" data-isso-lang="en" data-isso-max-comments-top="10" data-isso-max-comments-nested="5" data-isso-reveal-on-click="5" data-isso-avatar="false" data-isso-avatar-bg="#f0f0f0" data-isso-avatar-fg="#9abf88 #5698c4 #e279a3 #9163b6 ..." data-isso-vote="true" data-isso-vote-levels="" data-isso-page-author-hashes="f124cf6b2f01,7831fe17a8cd" data-isso-reply-notifications-default-enabled="false" src="https://comentario3.itkservices2.com/js/embed.min.js"></script>
        <section id="isso-thread" data-title="Test tag"></section>
   
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleGiscusIfUsed = (isAlternate, darkModeDefault) => {
    const baseTheme = document.querySelector('#giscus-base-theme')?.value ?? 'light';
    const alternateTheme = document.querySelector('#giscus-alt-theme')?.value ?? 'dark';
    let newTheme = '';
    if(darkModeDefault) {
      newTheme = isAlternate ? baseTheme : alternateTheme;
    } else {
      newTheme = isAlternate ? alternateTheme : baseTheme;
    }
    const changeGiscusTheme = () => {
      // From: https://github.com/giscus/giscus/issues/336
      const sendMessage = (message) => {
        const iframe = document.querySelector('iframe.giscus-frame');
        if (!iframe) return;
        iframe.contentWindow.postMessage({ giscus: message }, 'https://giscus.app');
      }
      sendMessage({
        setConfig: {
          theme: newTheme
        }
      });
    }
    const isGiscussLoaded = window.document.querySelector('iframe.giscus-frame') !== null;
    if (isGiscussLoaded) {
      changeGiscusTheme();
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  const darkModeDefault = true;
  let localAlternateSentinel = darkModeDefault ? 'alternate' : 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
    toggleGiscusIfUsed(toAlternate, darkModeDefault);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/itkservices3\.com");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
<p>Copyright 2024 ITK admin@itkservices.com.au</p>
</div>   
    <div class="nav-footer-center">
      &nbsp;
    </div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>
<script>var lightboxQuarto = GLightbox({"closeEffect":"zoom","descPosition":"bottom","loop":false,"openEffect":"zoom","selector":".lightbox"});
(function() {
  let previousOnload = window.onload;
  window.onload = () => {
    if (previousOnload) {
      previousOnload();
    }
    lightboxQuarto.on('slide_before_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      const href = trigger.getAttribute('href');
      if (href !== null) {
        const imgEl = window.document.querySelector(`a[href="${href}"] img`);
        if (imgEl !== null) {
          const srcAttr = imgEl.getAttribute("src");
          if (srcAttr && srcAttr.startsWith("data:")) {
            slideConfig.href = srcAttr;
          }
        }
      } 
    });
  
    lightboxQuarto.on('slide_after_load', (data) => {
      const { slideIndex, slideNode, slideConfig, player, trigger } = data;
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(slideNode);
      }
    });
  
  };
  
})();
          </script>




</body></html>